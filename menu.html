<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* „É¢„Éê„Ç§„É´ÊúÄÈÅ©Âåñ„Åï„Çå„ÅüÂÖ±ÈÄö„Çπ„Çø„Ç§„É´ */
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: 'Noto Sans JP', sans-serif;
      margin: 0;
      padding: 45px;
      background: linear-gradient(135deg, #f5f1e8 0%, #e8dfd2 100%);
      font-size: 48px;
      line-height: 1.6;
      color: #2c3e50;
      touch-action: manipulation;
      -webkit-font-smoothing: antialiased;
      min-height: 100vh;
      position: relative;
    }
    
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(
          45deg,
          transparent,
          transparent 35px,
          rgba(139, 111, 78, 0.03) 35px,
          rgba(139, 111, 78, 0.03) 70px
        );
      pointer-events: none;
      z-index: 1;
    }
    
    h1 {
      font-size: 84px;
      font-weight: bold;
      text-align: center;
      margin: 0 0 90px 0;
      color: #8b6f4e;
      font-family: 'Noto Serif JP', serif;
      text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
      position: relative;
      z-index: 2;
      padding-bottom: 60px;
      border-bottom: 6px solid #d4af37;
    }
    
    h1::before {
      content: "üìö";
      display: block;
      font-size: 96px;
      margin-bottom: 30px;
    }
    
    h1::after {
      content: "Library Management System";
      display: block;
      font-size: 36px;
      font-weight: 400;
      color: #a08060;
      margin-top: 20px;
      font-family: 'Noto Sans JP', sans-serif;
      font-style: italic;
    }
    
    /* „É°„Éã„É•„Éº„Ç≥„É≥„ÉÜ„Éä */
    .menu-container {
      display: flex;
      flex-direction: column;
      gap: 45px;
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      background: rgba(255, 255, 255, 0.7);
      padding: 60px;
      border-radius: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }
    
    /* Áµ±‰∏Ä„Åï„Çå„Åü„Éú„Çø„É≥„Çπ„Çø„Ç§„É´ */
    .menu-button {
      display: flex;
      width: 100%;
      padding: 45px 60px;
      font-size: 48px;
      font-weight: bold;
      text-decoration: none;
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
      position: relative;
      overflow: hidden;
      min-height: 120px;
      flex-direction: row;
      align-items: center;
      justify-content: flex-start;
      gap: 40px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }
    
    .menu-button::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .menu-button:hover::before {
      opacity: 1;
    }
    
    .menu-button:active {
      transform: scale(0.98);
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    }
    
    .menu-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 35px rgba(0, 0, 0, 0.2);
    }
    
    /* „Éú„Çø„É≥„ÅÆ„Ç´„É©„Éº„Çπ„Ç≠„Éº„É† */
    .checkout {
      background: linear-gradient(135deg, #8b6f4e 0%, #6d5640 100%);
    }
    
    .return {
      background: linear-gradient(135deg, #7b8b4e 0%, #5d6d40 100%);
    }
    
    .finder {
      background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%);
    }
    
    .user-returns {
      background: linear-gradient(135deg, #a67c52 0%, #8a6344 100%);
    }
    
    .register {
      background: linear-gradient(135deg, #8b5a4e 0%, #6d4640 100%);
    }
    
    .user-register {
      background: linear-gradient(135deg, #4e7b8b 0%, #405d6d 100%);
    }
    
    .card-issue {
      background: linear-gradient(135deg, #c49a37 0%, #a88123 100%);
    }
    
    .user-edit {
      background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
    }
    
    .book-edit {
      background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
    }
    
    .settings {
      background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
    }
    
    .overdue {
      background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    }
    
    .statistics {
      background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    }
    
    .history {
      background: linear-gradient(135deg, #795548 0%, #5d4037 100%);
    }
    
    .inventory {
      background: linear-gradient(135deg, #607d8b 0%, #455a64 100%);
    }
    
    /* „É°„Éã„É•„Éº„Ç¢„Ç§„Ç≥„É≥ */
    .menu-icon {
      font-size: 72px;
      margin-bottom: 0;
      display: block;
      flex-shrink: 0;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
    }
    
    /* „É°„Éã„É•„Éº„ÉÜ„Ç≠„Çπ„Éà */
    .menu-text {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .menu-title {
      font-size: 48px;
      font-weight: bold;
      font-family: 'Noto Serif JP', serif;
    }
    
    .menu-description {
      font-size: 32px;
      opacity: 0.9;
      font-weight: normal;
    }
    
    /* „É≠„Éº„Éá„Ç£„É≥„Ç∞Áä∂ÊÖã */
    .loading {
      text-align: center;
      color: #8b6f4e;
      padding: 60px;
      font-size: 48px;
      font-family: 'Noto Serif JP', serif;
    }
    
    .loading::before {
      content: "üìñ";
      display: block;
      font-size: 72px;
      margin-bottom: 30px;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }
    
    /* „Çø„Éñ„É¨„ÉÉ„Éà„ÉªÂ∞èÂûã„Éá„Éê„Ç§„ÇπÂØæÂøú */
    @media (max-width: 768px) {
      body {
        padding: 30px;
        font-size: 42px;
      }
      
      h1 {
        font-size: 60px;
        margin-bottom: 60px;
      }
      
      h1::before {
        font-size: 72px;
      }
      
      h1::after {
        font-size: 28px;
      }
      
      .menu-container {
        gap: 30px;
        padding: 40px;
      }
      
      .menu-button {
        padding: 24px 48px;
        font-size: 42px;
        min-height: 75px;
        border-radius: 24px;
        gap: 20px;
      }
      
      .menu-icon {
        font-size: 48px;
        margin-bottom: 0;
      }
    }
    
    /* ÈùûÂ∏∏„Å´Â∞è„Åï„ÅÑ„Éá„Éê„Ç§„ÇπÂØæÂøú */
    @media (max-width: 480px) {
      body {
        padding: 20px;
        font-size: 36px;
      }
      
      h1 {
        font-size: 48px;
        margin-bottom: 40px;
      }
      
      .menu-button {
        padding: 20px 30px;
        font-size: 36px;
        min-height: 60px;
        border-radius: 20px;
        gap: 15px;
      }
      
      .menu-icon {
        font-size: 36px;
        margin-bottom: 0;
      }
    }
  </style>
</head>
<body>
  <h1>Âõ≥Êõ∏È§®ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†</h1>
  
  <div class="menu-container" id="menuContainer">
    <div class="loading">
      Ë™≠„ÅøËæº„Åø‰∏≠...
    </div>
  </div>

  <script>
    // Web„Ç¢„Éó„É™„ÅÆURL„ÇíÂèñÂæó„Åó„Å¶„É°„Éã„É•„Éº„É™„É≥„ÇØ„ÇíÁîüÊàê
    google.script.run.withSuccessHandler(function(baseUrl) {
      const menuItems = [
        { page: 'checkout', icon: 'üìö', text: 'Âõ≥Êõ∏Ë≤∏Âá∫', desc: 'Êõ∏Á±ç„ÅÆË≤∏Âá∫Âá¶ÁêÜ', class: 'checkout' },
        { page: 'return', icon: 'üìñ', text: 'Âõ≥Êõ∏ËøîÂç¥', desc: 'Êõ∏Á±ç„ÅÆËøîÂç¥Âá¶ÁêÜ', class: 'return' },
        { page: 'user_returns', icon: 'üë§', text: 'Âà©Áî®ËÄÖÂà•ËøîÂç¥', desc: 'Âà©Áî®ËÄÖ„Åî„Å®„ÅÆËøîÂç¥', class: 'user-returns' },
        { page: 'finder', icon: 'üîç', text: 'Ë≤∏Âá∫Êõ∏Á±çÊ§úÁ¥¢', desc: 'Ë≤∏Âá∫‰∏≠„ÅÆÊõ∏Á±ç„ÇíÊ§úÁ¥¢', class: 'finder' },
        { page: 'register', icon: '‚ûï', text: 'Êõ∏Á±çÁôªÈå≤', desc: 'Êñ∞„Åó„ÅÑÊõ∏Á±ç„ÇíÁôªÈå≤', class: 'register' },
        { page: 'user_register', icon: 'üë•', text: 'Âà©Áî®ËÄÖÁôªÈå≤', desc: 'Êñ∞Ë¶èÂà©Áî®ËÄÖ„ÇíÁôªÈå≤', class: 'user-register' },
        { page: 'card_issue', icon: 'üé´', text: 'Âõ≥Êõ∏„Ç´„Éº„ÉâÁô∫Ë°å', desc: 'Âà©Áî®ËÄÖ„Ç´„Éº„Éâ„ÇíÁô∫Ë°å', class: 'card-issue' },
        { page: 'user_edit', icon: '‚úèÔ∏è', text: 'Âà©Áî®ËÄÖÊÉÖÂ†±Á∑®ÈõÜ', desc: 'Âà©Áî®ËÄÖÊÉÖÂ†±„ÅÆÂ§âÊõ¥„ÉªÂâäÈô§', class: 'user-edit' },
        { page: 'book_edit', icon: 'üìù', text: 'Êõ∏Á±çÊÉÖÂ†±Á∑®ÈõÜ', desc: 'Êõ∏Á±çÊÉÖÂ†±„ÅÆÂ§âÊõ¥„ÉªÂâäÈô§', class: 'book-edit' },
        { page: 'inventory', icon: 'üìö', text: 'Êõ∏Á±çÂú®Â∫´ÁÆ°ÁêÜ', desc: 'ËîµÊõ∏„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç', class: 'inventory' },
        { page: 'history', icon: 'üìú', text: 'Ë≤∏Âá∫Â±•Ê≠¥Ê§úÁ¥¢', desc: 'ÈÅéÂéª„ÅÆË≤∏Âá∫Â±•Ê≠¥„ÇíÊ§úÁ¥¢', class: 'history' },
        { page: 'overdue', icon: '‚è∞', text: 'Âª∂ÊªûËÄÖ„É™„Çπ„Éà', desc: 'Âª∂Êªû‰∏≠„ÅÆÊõ∏Á±ç„ÇíÁ¢∫Ë™ç', class: 'overdue' },
        { page: 'statistics', icon: 'üìä', text: 'Ë≤∏Âá∫Áµ±Ë®à', desc: 'Âà©Áî®Áä∂Ê≥Å„ÇíÂàÜÊûê', class: 'statistics' },
        { page: 'settings', icon: '‚öôÔ∏è', text: 'Âõ≥Êõ∏È§®Ë®≠ÂÆö', desc: 'Ë≤∏Âá∫ÊúüÈñì„Å™„Å©„ÅÆË®≠ÂÆö', class: 'settings' }
      ];

      let menuHtml = '';
      menuItems.forEach(item => {
        menuHtml += `
          <a href="${baseUrl}?page=${item.page}" class="menu-button ${item.class}">
            <span class="menu-icon">${item.icon}</span>
            <div class="menu-text">
              <div class="menu-title">${item.text}</div>
              <div class="menu-description">${item.desc}</div>
            </div>
          </a>
        `;
      });

      document.getElementById('menuContainer').innerHTML = menuHtml;
    }).withFailureHandler(function(error) {
      console.error('Error:', error);
      // „Ç®„É©„ÉºÊôÇ„ÅØÁõ∏ÂØæURL„Çí‰ΩøÁî®
      const errorMenuItems = [
        { page: 'checkout', icon: 'üìö', text: 'Âõ≥Êõ∏Ë≤∏Âá∫', desc: 'Êõ∏Á±ç„ÅÆË≤∏Âá∫Âá¶ÁêÜ', class: 'checkout' },
        { page: 'return', icon: 'üìñ', text: 'Âõ≥Êõ∏ËøîÂç¥', desc: 'Êõ∏Á±ç„ÅÆËøîÂç¥Âá¶ÁêÜ', class: 'return' },
        { page: 'user_returns', icon: 'üë§', text: 'Âà©Áî®ËÄÖÂà•ËøîÂç¥', desc: 'Âà©Áî®ËÄÖ„Åî„Å®„ÅÆËøîÂç¥', class: 'user-returns' },
        { page: 'finder', icon: 'üîç', text: 'Ë≤∏Âá∫Êõ∏Á±çÊ§úÁ¥¢', desc: 'Ë≤∏Âá∫‰∏≠„ÅÆÊõ∏Á±ç„ÇíÊ§úÁ¥¢', class: 'finder' },
        { page: 'register', icon: '‚ûï', text: 'Êõ∏Á±çÁôªÈå≤', desc: 'Êñ∞„Åó„ÅÑÊõ∏Á±ç„ÇíÁôªÈå≤', class: 'register' },
        { page: 'user_register', icon: 'üë•', text: 'Âà©Áî®ËÄÖÁôªÈå≤', desc: 'Êñ∞Ë¶èÂà©Áî®ËÄÖ„ÇíÁôªÈå≤', class: 'user-register' },
        { page: 'card_issue', icon: 'üé´', text: 'Âõ≥Êõ∏„Ç´„Éº„ÉâÁô∫Ë°å', desc: 'Âà©Áî®ËÄÖ„Ç´„Éº„Éâ„ÇíÁô∫Ë°å', class: 'card-issue' },
        { page: 'user_edit', icon: '‚úèÔ∏è', text: 'Âà©Áî®ËÄÖÊÉÖÂ†±Á∑®ÈõÜ', desc: 'Âà©Áî®ËÄÖÊÉÖÂ†±„ÅÆÂ§âÊõ¥„ÉªÂâäÈô§', class: 'user-edit' },
        { page: 'book_edit', icon: 'üìù', text: 'Êõ∏Á±çÊÉÖÂ†±Á∑®ÈõÜ', desc: 'Êõ∏Á±çÊÉÖÂ†±„ÅÆÂ§âÊõ¥„ÉªÂâäÈô§', class: 'book-edit' },
        { page: 'inventory', icon: 'üìö', text: 'Êõ∏Á±çÂú®Â∫´ÁÆ°ÁêÜ', desc: 'ËîµÊõ∏„ÅÆÁä∂ÊÖã„ÇíÁ¢∫Ë™ç', class: 'inventory' },
        { page: 'history', icon: 'üìú', text: 'Ë≤∏Âá∫Â±•Ê≠¥Ê§úÁ¥¢', desc: 'ÈÅéÂéª„ÅÆË≤∏Âá∫Â±•Ê≠¥„ÇíÊ§úÁ¥¢', class: 'history' },
        { page: 'overdue', icon: '‚è∞', text: 'Âª∂ÊªûËÄÖ„É™„Çπ„Éà', desc: 'Âª∂Êªû‰∏≠„ÅÆÊõ∏Á±ç„ÇíÁ¢∫Ë™ç', class: 'overdue' },
        { page: 'statistics', icon: 'üìä', text: 'Ë≤∏Âá∫Áµ±Ë®à', desc: 'Âà©Áî®Áä∂Ê≥Å„ÇíÂàÜÊûê', class: 'statistics' },
        { page: 'settings', icon: '‚öôÔ∏è', text: 'Âõ≥Êõ∏È§®Ë®≠ÂÆö', desc: 'Ë≤∏Âá∫ÊúüÈñì„Å™„Å©„ÅÆË®≠ÂÆö', class: 'settings' }
      ];
      
      let errorMenuHtml = '';
      errorMenuItems.forEach(item => {
        errorMenuHtml += `
          <a href="?page=${item.page}" class="menu-button ${item.class}">
            <span class="menu-icon">${item.icon}</span>
            <div class="menu-text">
              <div class="menu-title">${item.text}</div>
              <div class="menu-description">${item.desc}</div>
            </div>
          </a>
        `;
      });
      document.getElementById('menuContainer').innerHTML = errorMenuHtml;
    }).getWebAppUrl();
  </script>
</body>
</html>